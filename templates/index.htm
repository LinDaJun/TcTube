{% extends 'base.htm' %}

{% block css %}
{{ super () }}
<style type="text/css" media="screen">
    main {
        background: #5A6B7C;
        column-width: 200px;
        column-gap: 0px;
    }
    .song {
        width: 200px;
        height: auto;
        margin: 10px 10px 0px;
        padding: 0;
        transition: opacity .4s ease-in-out;
        display: inline-block;
        background: #AABBCC;
        text-decoration: blink;
    }
    .song > img {
        width: 100%;
        height: auto;
    }
</style>
{% endblock %}
{% block main %}
    {% for video in videos %}
        <a href="/video/{{video.id}}" title="" class="song">
            <img src="{{video.thumbnail}}" alt="">
            {% if (video.artist != "undefined") %}
            {{video.artist}}<br>
            {{video.title}}
            {% else%}
            {{video.title}}
            {% endif %}
        </a>
    {% endfor %}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        var socket = io.connect('http://' + document.domain + ':' + location.port + "/test");
        socket.on('connect', function() {
            console.log('connect');
        });
        socket.on('redirect', function(data) {
            console.log('redirect');
            window.location = data['url'];
        });
        function a() {
            // socket.emit('watchTV', {data: 'I\'m connectedGG!'});
        }
        setInterval(a, 3000);
    </script>
{% endblock %}